<% if !Rails.env.production? %>
  <div id="debug_wrapper" class="section hard-top">
  	<div class="corset tight">
  		<div class="box sign left_text">
  		  <h3 class="center_text">Debug - <%= CONFIG[:app_name] %> <small>(will be removed in production)</small></h3>
  		  
  		  <hr class="half" />
  		  
  		  <div class="panel-group" id="debugAccordion" role="tablist" aria-multiselectable="true">
  		    
  		    <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="debugHdng_locale">
              <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#debugAccordion" href="#debugCllps_locale" aria-expanded="false" aria-controls="debugCllps_locale">
                  <div class="row">
                    <div class="col-xs-5">
                      <small>Locale</small>
                    </div>
                    <div class="col-xs-7">
                      <%= I18n.locale %>
                    </div>
                  </div>
                  <div class="clearfix"></div>
                </a>
              </h4>
            </div>
            <div id="debugCllps_locale" class="panel-collapse collapse" role="tabpanel" aria-labelledby="debugHdng_locale" aria-expanded="false">
              <div class="panel-body">
                
                <table class="table table-bordered table-striped">
          				<tr>
          					<td>Locale </td>
          					<th> <%= I18n.locale %></th>
          				</tr>
          				<tr>
          					<td>HTTP_ACCEPT_LANGUAGE </td>
          					<th> <%= request.env["HTTP_ACCEPT_LANGUAGE"] %></th>
          				</tr>
          			</table>
                
              </div>
            </div>
          </div>
  		    
          <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="debugHdng_controller">
              <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#debugAccordion" href="#debugCllps_controller" aria-expanded="false" aria-controls="debugCllps_controller">
                  <div class="row">
                    <div class="col-xs-5">
                      <small>Controller</small>
                    </div>
                    <div class="col-xs-7">
                      <%= params[:controller] %> <small>#</small> <%= params[:action] %>
                    </div>
                  </div>
                  <div class="clearfix"></div>
                </a>
              </h4>
            </div>
            <div id="debugCllps_controller" class="panel-collapse collapse" role="tabpanel" aria-labelledby="debugHdng_controller" aria-expanded="false">
              <div class="panel-body">
                
                <table class="table table-bordered table-striped">
          				<tr>
          					<td>Layout </td>
          					<th> <%= controller.send(:_layout) %></th>
          				</tr>
          				<tr>
          					<td>Controller </td>
          					<th> <%#= controller.controller_name %><%= params[:controller] %></th>
          				</tr>
          				<tr>
          					<td>Action </td>
          					<th> <%= controller.action_name %></th>
          				</tr>
          				<tr>
          					<td>Subdomain </td>
          					<th> <%= request.subdomain.blank? ? "-" : request.subdomain %></th>
          				</tr>
          			</table>
                
              </div>
            </div>
          </div>
          
          <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="debugHdng_server">
              <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#debugAccordion" href="#debugCllps_server" aria-expanded="false" aria-controls="debugCllps_server">
                  <div class="row">
                    <div class="col-xs-5">
                      <small>Server</small>
                    </div>
                    <div class="col-xs-7">
                      <%= request.subdomain.blank? ? "" : "#{request.subdomain} . " %><%= request.env["HTTP_HOST"] %>
                    </div>
                  </div>
                  <div class="clearfix"></div>
                </a>
              </h4>
            </div>
            <div id="debugCllps_server" class="panel-collapse collapse" role="tabpanel" aria-labelledby="debugHdng_server" aria-expanded="false">
              <div class="panel-body">
                
                <table class="table table-bordered table-striped">
                  <tr>
          					<td>Subdomain </td>
          					<th> <%= request.subdomain.blank? ? "-" : request.subdomain %></th>
          				</tr>
          				<tr>
          					<td>HOST (CONFIG) </td>
          					<th> <%= CONFIG[:host] %></th>
          				</tr>
          				<tr>
          					<td>HOST (real) </td>
          					<th> <%= request.host %> &nbsp; <%= "[port: #{request.port}]" if request.port.present? %></th>
          				</tr>
          				<tr>
          					<td>SERVER_NAME </td>
          					<th> <%= request.env["SERVER_NAME"] %></th>
          				</tr>
          				<tr>
          					<td>HTTP_HOST </td>
          					<th> <%= request.env["HTTP_HOST"] %></th>
          				</tr>
          				<tr>
          					<td>SERVER_SOFTWARE </td>
          					<th> <%= request.env["SERVER_SOFTWARE"] %></th>
          				</tr>
          				<tr>
          					<td>HTTP_REFERER </td>
          					<th> <%= request.env["HTTP_REFERER"] %></th>
          				</tr>
          			</table>
                
              </div>
            </div>
          </div>
          
          <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="debugHdng_env">
              <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#debugAccordion" href="#debugCllps_env" aria-expanded="false" aria-controls="debugCllps_env">
                  <div class="row">
                    <div class="col-xs-5">
                      <small>Environment</small>
                    </div>
                    <div class="col-xs-7">
                      <%= Rails.env %>
                    </div>
                  </div>
                  <div class="clearfix"></div>
                </a>
              </h4>
            </div>
            <div id="debugCllps_env" class="panel-collapse collapse" role="tabpanel" aria-labelledby="debugHdng_env" aria-expanded="false">
              <div class="panel-body">
                
                <%#= request.env.inspect %>
                
                <table class="table table-bordered table-striped">
          				<tr>
          					<td>SERVER_SOFTWARE </td>
          					<th> <%= request.env["SERVER_SOFTWARE"] %></th>
          				</tr>
          				<tr>
          					<td>HTTP_CACHE_CONTROL </td>
          					<th> <%= request.env["HTTP_CACHE_CONTROL"] %></th>
          				</tr>
          				<tr>
          					<td>HTTP_USER_AGENT </td>
          					<th> <%= request.env["HTTP_USER_AGENT"] %></th>
          				</tr>
          				<tr>
          					<td>HTTP_ACCEPT_LANGUAGE </td>
          					<th> <%= request.env["HTTP_ACCEPT_LANGUAGE"] %></th>
          				</tr>
          				<tr>
          					<td>REQUEST_METHOD </td>
          					<th> <%= request.env["REQUEST_METHOD"] %></th>
          				</tr>
          				<tr>
          					<td>rack.errors </td>
          					<th> <%= request.env["rack.errors"] %></th>
          				</tr>
          			</table>
                
                <div class="clearfix"></div>
                
              </div>
            </div>
          </div>
          
          <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="debugHdng_params">
              <h4 class="panel-title">
                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#debugAccordion" href="#debugCllps_params" aria-expanded="true" aria-controls="debugCllps_params">
                  <div class="row">
                    <div class="col-xs-5">
                      <small>Params</small>
                    </div>
                    <div class="col-xs-7 right_text">
                      <span class="label label-default"> <%= params.count - 2 %> </span>
                    </div>
                  </div>
                  <div class="clearfix"></div>
                </a>
              </h4>
            </div>
            <div id="debugCllps_params" class="panel-collapse collapse" role="tabpanel" aria-labelledby="debugHdng_params" aria-expanded="true">
              <div class="panel-body">
                
                <table class="table table-striped table-bordered">
                  <thead>
                    <tr>
                      <th class="blue">key</th>
                      <th class="blue">value</th>
                    </tr>
                  </thead>
                  <tbody>
                    <% params.each do |key, value| %>
                    <tr class="<%= [:controller, :action, "controller", "action"].include?(key) ? "small gray" : "" %>">
                      <td><%= key %></td>
                      <td><strong><%= value %></strong></td>
                    </tr>
                    <% end %>
                  </tbody>
                    
                </table>
                
                <%#= params.inspect %>
                <div class="clearfix"></div>
                
              </div>
            </div>
          </div>
          
        </div>
        
        <hr class="half" />
        
        <%= debug(params) %>

  		</div>
  	</div>
  </div>
<% end %>
